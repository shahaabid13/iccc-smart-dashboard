import{a as _}from"./chunk-HKU4MGML.js";import{c as C,g as x}from"./chunk-3O3MEYGU.js";import{c as M,e as d,g as P,h as O,k as w,m as y,n as S,s as k,u as I}from"./chunk-NJBGEMB6.js";import{$a as p,Dc as v,Hc as h,Ia as r,Nb as g,Pb as a,Qa as c,Rb as b,Wa as f,nb as m,ob as o,pb as n,qb as l,zb as u}from"./chunk-HNXX6TOF.js";import"./chunk-FDERIQAA.js";function E(s,i){s&1&&(o(0,"small"),a(1,"Username is required"),n())}function N(s,i){s&1&&(o(0,"small"),a(1,"Password is required"),n())}var F=class s{constructor(i,t,e){this.fb=i;this.authService=t;this.router=e;this.loginForm=this.fb.group({username:["",d.required],password:["",d.required]})}loginForm;submitting=!1;isInvalid(i){let t=this.loginForm.get(i);return!!t&&t.invalid&&(t.dirty||t.touched)}onSubmit(){if(this.loginForm.valid){let{username:i,password:t}=this.loginForm.value;this.submitting=!0,this.authService.login(i,t).subscribe({next:e=>{localStorage.setItem("token",e.token),localStorage.setItem("role",e.role),e.role==="ADMIN"?this.router.navigate(["/admin/dashboard"]):this.router.navigate(["/inventory"])},error:()=>{alert("\u274C Invalid username or password"),this.submitting=!1},complete:()=>this.submitting=!1})}}static \u0275fac=function(t){return new(t||s)(c(k),c(_),c(C))};static \u0275cmp=f({type:s,selectors:[["app-login"]],decls:27,vars:9,consts:[[1,"login-wrapper"],[1,"login-left"],["src","/logo.jfif","alt","hero",1,"left-image"],[1,"login-right"],[1,"login-box"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"fa","fa-user"],["type","text","formControlName","username","placeholder","Enter username"],[4,"ngIf"],[1,"fa","fa-lock"],["type","password","formControlName","password","placeholder","Enter password"],["type","submit",1,"btn-login",3,"disabled"],[1,"footer-links"],[1,"social-icons"],[1,"circle","blue"],[1,"circle","red"],[1,"circle","pink"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"div",1),l(2,"img",2),n(),o(3,"div",3)(4,"div",4)(5,"h2"),a(6,"Login"),n(),o(7,"form",5),u("ngSubmit",function(){return e.onSubmit()}),o(8,"div",6)(9,"label"),l(10,"i",7),a(11," Username"),n(),l(12,"input",8),p(13,E,2,0,"small",9),n(),o(14,"div",6)(15,"label"),l(16,"i",10),a(17," Password"),n(),l(18,"input",11),p(19,N,2,0,"small",9),n(),o(20,"button",12),a(21),n()(),l(22,"div",13),o(23,"div",14),l(24,"span",15)(25,"span",16)(26,"span",17),n()()()()),t&2&&(r(7),m("formGroup",e.loginForm),r(),g("invalid",e.isInvalid("username")),r(5),m("ngIf",e.isInvalid("username")),r(),g("invalid",e.isInvalid("password")),r(5),m("ngIf",e.isInvalid("password")),r(),m("disabled",e.loginForm.invalid||e.submitting),r(),b(" ",e.submitting?"Logging in...":"LOGIN"," "))},dependencies:[I,w,M,P,O,y,S,h,v,x],styles:[".login-wrapper[_ngcontent-%COMP%]{display:flex;height:100vh;font-family:Poppins,sans-serif;background:#f3f6fa}.login-left[_ngcontent-%COMP%]{flex:1;display:block;overflow:hidden;background:#fff}.left-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.login-right[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;background:#fff}.login-box[_ngcontent-%COMP%]{width:360px;padding:30px;text-align:center;background:#fff;box-shadow:0 4px 15px #0000001a;border-radius:12px}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:24px;font-size:26px;font-weight:600;color:#333}.form-group[_ngcontent-%COMP%]{text-align:left;margin-bottom:18px;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#555;display:block;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-bottom:2px solid #ccc;outline:none;font-size:15px;transition:.3s}.form-group.invalid[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom:2px solid #ff5252}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ff5252;font-size:12px;position:absolute;bottom:-18px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid #007bff}.btn-login[_ngcontent-%COMP%]{width:100%;padding:12px;background:linear-gradient(to right,#00c6ff,#5a00ff);border:none;color:#fff;font-weight:600;border-radius:25px;cursor:pointer;margin-top:20px;transition:.3s}.btn-login[_ngcontent-%COMP%]:hover{opacity:.9}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.footer-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:14px;font-size:13px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5a00ff;text-decoration:none;font-weight:500;transition:.2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:16px}.circle[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;cursor:pointer}.circle.blue[_ngcontent-%COMP%]{background-color:#3b5998}.circle.red[_ngcontent-%COMP%]{background-color:#00acee}.circle.pink[_ngcontent-%COMP%]{background-color:#ea4c89}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{flex-direction:column}.login-left[_ngcontent-%COMP%]{display:none}.login-box[_ngcontent-%COMP%]{width:90%}}"]})};export{F as LoginComponent};
