import{a as D,b as U}from"./chunk-AW73V55B.js";import{a as k}from"./chunk-HKU4MGML.js";import{a as A,b as R}from"./chunk-QZJLICHW.js";import{a as L}from"./chunk-SWU2EWNA.js";import{c as b,d as S,g as O}from"./chunk-3O3MEYGU.js";import"./chunk-457EALQY.js";import{a as N,f as T,g as V,k as W}from"./chunk-WAO5ROTU.js";import{S as j,T as z}from"./chunk-I7RDOML2.js";import{c as E,g as I,j as F,t as B}from"./chunk-NJBGEMB6.js";import{$a as w,Bb as l,Dc as v,Hc as y,Ia as r,Pb as i,Qa as f,Qb as h,Ub as u,Vb as _,Wa as M,Wb as x,fa as c,ga as g,nb as m,ob as n,pb as t,xb as C,zb as P}from"./chunk-HNXX6TOF.js";import"./chunk-FDERIQAA.js";function q(o,a){if(o&1&&(n(0,"p",12),i(1),t()),o&2){let e=l();r(),h(e.message)}}function G(o,a){o&1&&(n(0,"p",20),i(1,"Password must be at least 6 characters."),t())}function H(o,a){o&1&&(n(0,"p",20),i(1,"Passwords do not match."),t())}function J(o,a){if(o&1&&(n(0,"div",18),w(1,G,2,0,"p",19)(2,H,2,0,"p",19),t()),o&2){let e=l(2);r(),m("ngIf",e.newPassword&&e.newPassword.length<6),r(),m("ngIf",e.newPassword&&e.confirmPassword&&e.newPassword!==e.confirmPassword)}}function K(o,a){if(o&1){let e=C();n(0,"div",13)(1,"mat-form-field",3)(2,"mat-label"),i(3,"New Password"),t(),n(4,"input",14),x("ngModelChange",function(d){c(e);let p=l();return _(p.newPassword,d)||(p.newPassword=d),g(d)}),t()(),n(5,"mat-form-field",3)(6,"mat-label"),i(7,"Confirm Password"),t(),n(8,"input",15),x("ngModelChange",function(d){c(e);let p=l();return _(p.confirmPassword,d)||(p.confirmPassword=d),g(d)}),t()(),n(9,"div",5)(10,"button",16),P("click",function(){c(e);let d=l();return g(d.setNewPassword())}),i(11," Set New Password "),t()(),w(12,J,3,2,"div",17),t()}if(o&2){let e=l();r(4),u("ngModel",e.newPassword),r(4),u("ngModel",e.confirmPassword),r(2),m("disabled",!e.canSetNew()),r(2),m("ngIf",e.verified)}}var Y=class o{constructor(a,e,s){this.auth=a;this.router=e;this.snackBar=s}verify(){throw new Error("Method not implemented.")}setNewPassword(){throw new Error("Method not implemented.")}email="";message="";verified=!1;newPassword="";confirmPassword="";apiUrl;http;verifyEmail(a){return this.http.post(`${this.apiUrl}/verify-email`,{email:a})}canSetNew(){return this.verified&&this.newPassword&&this.newPassword.length>=6&&this.newPassword===this.confirmPassword}resetPassword(a,e){return this.http.post(`${this.apiUrl}/reset-password`,{email:a,newPassword:e})}static \u0275fac=function(e){return new(e||o)(f(k),f(b),f(D))};static \u0275cmp=M({type:o,selectors:[["app-forgot-password"]],decls:23,vars:4,consts:[[1,"forgot-container"],[1,"forgot-card"],[1,"header"],["appearance","outline",1,"full-width"],["matInput","","type","email","placeholder","you@example.com",3,"ngModelChange","ngModel"],[1,"btn-row"],["mat-flat-button","","color","primary",3,"click","disabled"],["class","message",4,"ngIf"],["class","password-section",4,"ngIf"],[1,"links"],["routerLink","/login"],["routerLink","/register"],[1,"message"],[1,"password-section"],["matInput","","type","password","placeholder","Enter new password",3,"ngModelChange","ngModel"],["matInput","","type","password","placeholder","Confirm new password",3,"ngModelChange","ngModel"],["type","button",1,"primary-btn",3,"click","disabled"],["class","validation-messages",4,"ngIf"],[1,"validation-messages"],["class","warn",4,"ngIf"],[1,"warn"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"mat-card",1)(2,"div",2)(3,"h2"),i(4,"Reset Your Password"),t(),n(5,"p"),i(6,"Please enter your registered email address to verify your account."),t()(),n(7,"mat-form-field",3)(8,"mat-label"),i(9,"Email Address"),t(),n(10,"input",4),x("ngModelChange",function(p){return _(s.email,p)||(s.email=p),p}),t()(),n(11,"div",5)(12,"button",6),P("click",function(){return s.verify()}),i(13," Verify Email "),t()(),w(14,q,2,1,"p",7)(15,K,13,4,"div",8),n(16,"div",9)(17,"a",10),i(18,"Back to Login"),t(),n(19,"span"),i(20,"\xA0|\xA0"),t(),n(21,"a",11),i(22,"Register"),t()()()()),e&2&&(r(10),u("ngModel",s.email),r(2),m("disabled",!s.email),r(2),m("ngIf",s.message),r(),m("ngIf",s.verified))},dependencies:[y,v,B,E,I,F,O,S,T,N,L,W,V,R,A,z,j,U],styles:[".forgot-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80vh;border-radius:8px;margin-top:20px;background:linear-gradient(135deg,#5a00ff,#00c6ff);font-family:Poppins,sans-serif;background-image:url(/scs.jpg)}.forgot-card[_ngcontent-%COMP%]{width:420px;padding:32px 28px;box-shadow:0 6px 20px #00000026;border-radius:12px;background-color:#fff;animation:_ngcontent-%COMP%_fadeIn .5s ease}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:6px;font-weight:600;color:#3f51b5}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666}.full-width[_ngcontent-%COMP%]{width:100%;margin-top:10px}.btn-row[_ngcontent-%COMP%]{text-align:right;margin-top:15px}.btn-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;border-radius:6px}.primary-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00c6ff,#5a00ff);color:#fff;border:none;padding:10px 18px;border-radius:8px;font-weight:600;cursor:pointer;box-shadow:0 4px 12px #00000014}.primary-btn[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;box-shadow:none}.validation-messages[_ngcontent-%COMP%]{margin-top:8px}.warn[_ngcontent-%COMP%]{color:#d32f2f;font-size:13px;margin:4px 0}.password-section[_ngcontent-%COMP%]{margin-top:20px;border-top:1px solid #eee;padding-top:15px}.message[_ngcontent-%COMP%]{color:#444;margin-top:12px;text-align:center;font-size:14px}.links[_ngcontent-%COMP%]{text-align:center;margin-top:20px;font-size:14px}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5a00ff;text-decoration:none;font-weight:500}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.forgot-card[_ngcontent-%COMP%]{width:90%;padding:24px 18px}}"]})};export{Y as ForgotPasswordComponent};
